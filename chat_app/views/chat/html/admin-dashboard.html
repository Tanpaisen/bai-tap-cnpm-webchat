<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Qu·∫£n l√Ω Chat App</title>
    <link rel="stylesheet" href="/chat/styleAdmin.css">
</head>

<body>

    <header class="admin-header">
        <h1>B·∫£ng ƒêi·ªÅu Khi·ªÉn Qu·∫£n Tr·ªã</h1>
        <nav>
            <a href="#users" class="active">Qu·∫£n l√Ω Ng∆∞·ªùi d√πng</a>
            <a href="#reports">B√°o c√°o & N·ªôi dung</a>
            <a href="#stats">Th·ªëng k√™</a>
            <a href="/logout" class="logout-btn">ƒêƒÉng xu·∫•t</a>
        </nav>
    </header>

    <main class="admin-main">

        <!-- === Qu·∫£n l√Ω ng∆∞·ªùi d√πng === -->
        <section id="users" class="dashboard-section active" style="display: block;">
            <h2>üë§ Qu·∫£n l√Ω Ng∆∞·ªùi d√πng</h2>

            <div class="user-search-filter">
                <input type="text" id="userSearchInput" placeholder="T√¨m ki·∫øm theo ID, username...">

                <select id="userFilterRole">
                    <option value="all">T·∫•t c·∫£ Vai tr√≤</option>
                    <option value="user">Ng∆∞·ªùi d√πng (User)</option>
                    <option value="admin">Qu·∫£n tr·ªã vi√™n (Admin)</option>
                    <option value="superadmin">Qu·∫£n tr·ªã vi√™n C·∫•p cao (Superadmin)</option>
                </select>

                <select id="userFilterStatus">
                    <option value="all">T·∫•t c·∫£ Tr·∫°ng th√°i</option>
                    <option value="active">ƒêang ho·∫°t ƒë·ªông</option>
                    <option value="banned">ƒêang b·ªã kh√≥a</option>
                </select>
            </div>

            <table id="userTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Username</th>
                        <th>Nickname</th>
                        <th>Vai tr√≤</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>H√†nh ƒë·ªông</th>
                    </tr>
                </thead>
                <tbody id="userList">
                    <tr>
                        <td colspan="6">ƒêang t·∫£i danh s√°ch ng∆∞·ªùi d√πng...</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <hr>

        <!-- === B√°o c√°o === -->
        <section id="reports" class="dashboard-section" style="display: none;">
            <h2>üí¨ Qu·∫£n l√Ω B√°o c√°o & N·ªôi dung</h2>
            <div class="report-list" id="reportList">
                <div class="report-item">
                    <strong>B√°o c√°o #123:</strong> Ng∆∞·ªùi d√πng `X` b·ªã b√°o c√°o v·ªÅ n·ªôi dung x√∫c ph·∫°m.
                    <button data-report-id="123" class="btn-review">Xem & X·ª≠ l√Ω</button>
                </div>
            </div>

            <h3>C·∫•u h√¨nh H·ªá th·ªëng</h3>
            <div class="system-config">
                <label for="profanityFilter">B·ªô l·ªçc T·ª´ c·∫•m (Blacklist):</label>
                <textarea id="profanityFilter" rows="3">t·ª´_c·∫•m_1, t·ª´_c·∫•m_2, ...</textarea>
                <button id="saveConfigBtn" class="btn-primary">L∆∞u C·∫•u h√¨nh</button>
            </div>
        </section>

        <hr>

        <!-- === Th·ªëng k√™ === -->
        <section id="stats" class="dashboard-section" style="display: none;">
            <h2>üìà Th·ªëng k√™ & Ho·∫°t ƒë·ªông</h2>
            <div class="stats-grid">
                <div class="stat-card">T·ªïng ng∆∞·ªùi d√πng: <span id="totalUsers">0</span></div>
                <div class="stat-card">Ng∆∞·ªùi d√πng m·ªõi (24h): <span id="newUsers">0</span></div>
                <div class="stat-card">T·ªïng tin nh·∫Øn g·ª≠i: <span id="totalMessages">0</span></div>
                <div class="stat-card">T√¨nh tr·∫°ng Server: <span id="serverStatus" class="status-ok">·ªîn ƒë·ªãnh</span></div>
            </div>

            <h3>L·ªãch s·ª≠ Ho·∫°t ƒë·ªông Admin (Audit Log)</h3>
            <ul id="auditLogList">
                <li>ƒêang t·∫£i nh·∫≠t k√Ω...</li>
            </ul>

            <h3>üìä Th·ªëng k√™ Ho·∫°t ƒë·ªông Ng∆∞·ªùi d√πng (7 ng√†y qua)</h3>
            <p>T·ªïng s·ªë ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p trong tu·∫ßn: <strong id="uniqueUsersWeek">N/A</strong></p>
            <p>S·ªë ng√†y c√≥ ng∆∞·ªùi d√πng truy c·∫≠p: <strong id="accessDaysCount">N/A</strong></p>
            <p>T·∫ßn su·∫•t truy c·∫≠p trung b√¨nh/ng√†y: <strong id="avgVisits">N/A</strong> l·∫ßn</p>

            <h4>Ph√¢n ph·ªëi T·∫ßn su·∫•t Truy c·∫≠p:</h4>
            <ul id="frequencyList" class="audit-log-list"></ul>
        </section>

    </main>

    <!-- === Modal Chi ti·∫øt User === -->
    <div id="userDetailsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-btn" id="closeModalBtn">&times;</span>
            <div id="modalContent">
                <p>ƒêang t·∫£i chi ti·∫øt...</p>
            </div>
        </div>
    </div>


    <script src="/chat/js/admin.js"></script>
</body>

</html>